(function(){"use strict";var e={4782:function(e,n,t){var o=t(9963),i=t(6252);const r=(0,i._)("div",{id:"back"},null,-1);function a(e,n,t,o,a,l){return(0,i.wg)(),(0,i.iD)(i.HY,null,[r,(0,i._)("button",{id:"btn1",onClick:n[0]||(n[0]=e=>l.onChangedModel(1))},"鱼"),(0,i._)("button",{id:"btn2",onClick:n[1]||(n[1]=e=>l.onChangedModel(2))},"桥"),(0,i._)("button",{id:"btn3",onClick:n[2]||(n[2]=e=>l.onChangedModel(3))},"马"),(0,i._)("button",{id:"btn4",onClick:n[3]||(n[3]=e=>l.onChangedModel(4))},"树")],64)}t(7658);var l,d,s,c,u,h,f,p,w,m,g=t(2212),v=t(2886),b=t(7047),y=t(9985),M=t(5258),C=[],x=0,k={name:"App",components:{},data(){},mounted(){this.init(),this.animate()},methods:{init(){l=document.createElement("div"),document.body.appendChild(l),d=new g.cPb(105,window.innerWidth/window.innerHeight,10,1e4),d.position.z=100,d.position.y=60,s=new g.xsS,s.fog=new g.yo9(0,.001),c=new g.CP7,c.setPixelRatio(window.devicePixelRatio),c.setSize(window.innerWidth,window.innerHeight),l.appendChild(c.domElement);var e=new v.z(d,c.domElement);e.update(),this.loadStartPoints(3e4)},loadStartPoints(e){u=new g.ZXM,p=new g.ZXM;var n=new g.dpR;n.crossOrigin="";var t=n.load("./file/gradientpoint.png");const o=e;for(let l=0;l<o;l++){var i=new g.Pa4;i.x=800*Math.random()-400,i.y=800*Math.random()-400,i.z=800*Math.random()-400,u.vertices.push(i),u.colors.push(new g.Ilk(1,1,1))}f=new g.UY4({size:.3,sizeAttenuation:!0,color:16777215,transparent:!0,opacity:1,map:t}),f.vertexColors=g.jSK,h=new g.woe(u,f),s.add(h);let r=2e3;for(let l=0;l<r;l++){var a=new g.Pa4;a.x=800*Math.random()-400,a.y=800*Math.random()-400,a.z=800*Math.random()-400,p.vertices.push(a),p.colors.push(new g.Ilk(1*Math.random(),1*Math.random(),1*Math.random()))}w=new g.UY4({size:.4,sizeAttenuation:!0,color:16777215,transparent:!0,opacity:1,map:t}),w.vertexColors=g.jSK,m=new g.woe(p,w),s.add(m)},loadModel(){let e,n=1;1===x?(e="afish.gltf",n=2e3):2===x?(e="bridge.gltf",n=10):3===x?(e="horse.gltf",n=20):4===x&&(e="tree.gltf",n=10);let t="./file/"+e;var o=new b.E;let i=this;o.load(t,(function(e){var t=e.scene;console.log(t.children[0].children);let o=0,r=t.children[0].children.length>0?t.children[0].children.length:1;C=[],t.traverse((function(e){if(e.isMesh){while(e.geometry.attributes.position.array.length>75e3){const n=e.clone();n.material=n.material.clone(),n.material.flatShading=!0;const t=Math.floor(.05*n.geometry.attributes.position.count),o=new M.k;n.geometry=o.modify(n.geometry,t),e=n}o++;var t=e.geometry.attributes.position.array;for(let e=0;e<t.length/3;e++){let o=new g.Pa4(t[3*e]*n,t[3*e+1]*n,t[3*e+2]*n);C.push(o)}r===o&&i.tweenObj()}}))}))},onChangedModel(e){x=e,this.loadModel()},tweenObj(){u.vertices.forEach((function(e,n){var t=C.length,o=C[n%t];new y.Tween(e).to({x:o.x,y:o.y,z:o.z},1e3).easing(y.Easing.Exponential.In).delay(1e3*Math.random()).start()}))},animate(){requestAnimationFrame(this.animate),y.update(),d.lookAt(s.position),u.verticesNeedUpdate=!0,c.render(s,d)}}},O=t(3744);const z=(0,O.Z)(k,[["render",a]]);var P=z;(0,o.ri)(P).mount("#app")}},n={};function t(o){var i=n[o];if(void 0!==i)return i.exports;var r=n[o]={exports:{}};return e[o].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(n,o,i,r){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],i=e[c][1],r=e[c][2];for(var l=!0,d=0;d<o.length;d++)(!1&r||a>=r)&&Object.keys(t.O).every((function(e){return t.O[e](o[d])}))?o.splice(d--,1):(l=!1,r<a&&(a=r));if(l){e.splice(c--,1);var s=i();void 0!==s&&(n=s)}}return n}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,i,r]}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var i,r,a=o[0],l=o[1],d=o[2],s=0;if(a.some((function(n){return 0!==e[n]}))){for(i in l)t.o(l,i)&&(t.m[i]=l[i]);if(d)var c=d(t)}for(n&&n(o);s<a.length;s++)r=a[s],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(c)},o=self["webpackChunkgrain3d"]=self["webpackChunkgrain3d"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(4782)}));o=t.O(o)})();
//# sourceMappingURL=app.df221d30.js.map
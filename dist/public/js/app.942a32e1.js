(function(){"use strict";var A={4131:function(A,e,n){var t=n(9963),o=n(6252),i="data:image/gif;base64,R0lGODlhMAAwAPfMAH9/fwAAAEBAQPz8/P39/cDAwPf39/n5+cjIyMTExO/v78HBwe3t7ePj4/Hx8cLCwsbGxtbW1tra2tvb29LS0vX19e7u7vDw8OHh4dHR0dzc3MXFxezs7Pj4+Ovr6/r6+vv7++bm5szMzOLi4urq6ufn58/Pz9nZ2cvLy/b29tXV1eXl5dPT0+Dg4N/f39DQ0NTU1PLy8srKys3NzfT09N7e3snJyfPz80FBQYGBgYODg5CQkFNTU6SkpJKSkkJCQrOzs7W1ta2trUZGRt3d3RQUFOTk5AMDA8PDw4CAgIKCgra2toyMjLi4uI2NjYmJiaqqqllZWVBQUJGRkbS0tKysrLe3t1xcXISEhJSUlKCgoJ6enqOjo6WlpYaGhkRERJeXlwgICH5+fk9PT4qKiujo6ENDQ9jY2AEBAUlJSYWFhcfHx319fQwMDEpKSi8vL5iYmLq6uq6urnZ2dnl5eXh4eGhoaGxsbBUVFUhISJqamrKysk1NTVRUVD8/P6enp1ZWViIiIhsbGwICAlpaWgUFBUxMTBkZGbm5uWNjY6mpqXd3d3R0dJWVlW9vb76+vmFhYXBwcAcHB4iIiEdHR2VlZZubmwYGBo+PjxwcHAsLCxoaGjIyMk5OTmZmZqioqCgoKAQEBDMzM19fXzg4ONfX11VVVaurq46OjqGhoWlpaVJSUm5ubp+fnwoKCqampnFxcW1tbSUlJbGxsSsrKxMTEyMjI2RkZOnp6TU1NTY2NjAwMHp6enNzcxISEikpKXt7e7u7u5mZmRYWFktLS5ycnBgYGGBgYHx8fEVFRXJycr+/v////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGOTdGMTE3NDA3MjA2ODExOEMxNEY4RUMxQzI3NjA5QiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRjMwOTEwNURDN0QxMUUxQTBEOUM1RTUwRkEzREE3QSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRjMwOTEwNERDN0QxMUUxQTBEOUM1RTUwRkEzREE3QSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Rjk3RjExNzQwNzIwNjgxMThDMTRGOEVDMUMyNzYwOUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Rjk3RjExNzQwNzIwNjgxMThDMTRGOEVDMUMyNzYwOUIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5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";const g=(0,o._)("div",{id:"back"},null,-1),w={key:0,id:"loadingBack"},h=(0,o._)("img",{src:i,alt:"",id:"loadImg"},null,-1),C=[h];function a(A,e,n,t,i,h){return(0,o.wg)(),(0,o.iD)(o.HY,null,[g,(0,o._)("button",{id:"btn1",onClick:e[0]||(e[0]=A=>h.onChangedModel(1))},"鱼"),(0,o._)("button",{id:"btn2",onClick:e[1]||(e[1]=A=>h.onChangedModel(2))},"桥"),(0,o._)("button",{id:"btn3",onClick:e[2]||(e[2]=A=>h.onChangedModel(3))},"马"),(0,o._)("button",{id:"btn4",onClick:e[3]||(e[3]=A=>h.onChangedModel(4))},"树"),i.isShow?((0,o.wg)(),(0,o.iD)("div",w,C)):(0,o.kq)("",!0)],64)}n(7658);var I,r,B,c,l,s,M,Q,E,D,d=n(2212),Y=n(2886),H=n(7047),m=n(9985),U=n(5258),G=[],x=0,k={name:"App",components:{},data(){return{isShow:!1}},mounted(){this.init(),this.animate()},methods:{init(){I=document.createElement("div"),document.body.appendChild(I),r=new d.cPb(105,window.innerWidth/window.innerHeight,10,1e4),r.position.z=100,r.position.y=60,B=new d.xsS,B.fog=new d.yo9(0,.001),c=new d.CP7,c.setPixelRatio(window.devicePixelRatio),c.setSize(window.innerWidth,window.innerHeight),I.appendChild(c.domElement);var A=new Y.z(r,c.domElement);A.update(),this.loadStartPoints(3e4)},loadStartPoints(A){l=new d.ZXM,Q=new d.ZXM;var e=new d.dpR;e.crossOrigin="";var n=e.load("./file/gradientpoint.png");const t=A;for(let w=0;w<t;w++){var o=new d.Pa4;o.x=800*Math.random()-400,o.y=800*Math.random()-400,o.z=800*Math.random()-400,l.vertices.push(o),l.colors.push(new d.Ilk(1,1,1))}M=new d.UY4({size:.3,sizeAttenuation:!0,color:16777215,transparent:!0,opacity:1,map:n}),M.vertexColors=d.jSK,s=new d.woe(l,M),B.add(s);let i=2e3;for(let w=0;w<i;w++){var g=new d.Pa4;g.x=800*Math.random()-400,g.y=800*Math.random()-400,g.z=800*Math.random()-400,Q.vertices.push(g),Q.colors.push(new d.Ilk(1*Math.random(),1*Math.random(),1*Math.random()))}E=new d.UY4({size:.4,sizeAttenuation:!0,color:16777215,transparent:!0,opacity:1,map:n}),E.vertexColors=d.jSK,D=new d.woe(Q,E),B.add(D)},loadModel(){let A,e=1;1===x?(A="afish.gltf",e=2e3):2===x?(A="bridge.gltf",e=10):3===x?(A="horse.gltf",e=20):4===x&&(A="tree.gltf",e=10);let n="./file/"+A;var t=new H.E;let o=this;t.load(n,(function(A){var n=A.scene;console.log(n.children[0].children);let t=0,i=n.children[0].children.length>0?n.children[0].children.length:1;G=[],n.traverse((function(A){if(A.isMesh){while(A.geometry.attributes.position.array.length>75e3){const e=A.clone();e.material=e.material.clone(),e.material.flatShading=!0;const n=Math.floor(.05*e.geometry.attributes.position.count),t=new U.k;e.geometry=t.modify(e.geometry,n),A=e}t++;var n=A.geometry.attributes.position.array;for(let A=0;A<n.length/3;A++){let t=new d.Pa4(n[3*A]*e,n[3*A+1]*e,n[3*A+2]*e);G.push(t)}i===t&&(o.isShow=!1,o.tweenObj())}}))}))},onChangedModel(A){this.isShow=!0,x=A,this.loadModel()},tweenObj(){l.vertices.forEach((function(A,e){var n=G.length,t=G[e%n];new m.Tween(A).to({x:t.x,y:t.y,z:t.z},1e3).easing(m.Easing.Exponential.In).delay(1e3*Math.random()).start()}))},animate(){requestAnimationFrame(this.animate),m.update(),r.lookAt(B.position),l.verticesNeedUpdate=!0,c.render(B,r)}}},p=n(3744);const y=(0,p.Z)(k,[["render",a]]);var R=y;(0,t.ri)(R).mount("#app")}},e={};function n(t){var o=e[t];if(void 0!==o)return o.exports;var i=e[t]={exports:{}};return A[t].call(i.exports,i,i.exports,n),i.exports}n.m=A,function(){var A=[];n.O=function(e,t,o,i){if(!t){var g=1/0;for(a=0;a<A.length;a++){t=A[a][0],o=A[a][1],i=A[a][2];for(var w=!0,h=0;h<t.length;h++)(!1&i||g>=i)&&Object.keys(n.O).every((function(A){return n.O[A](t[h])}))?t.splice(h--,1):(w=!1,i<g&&(g=i));if(w){A.splice(a--,1);var C=o();void 0!==C&&(e=C)}}return e}i=i||0;for(var a=A.length;a>0&&A[a-1][2]>i;a--)A[a]=A[a-1];A[a]=[t,o,i]}}(),function(){n.d=function(A,e){for(var t in e)n.o(e,t)&&!n.o(A,t)&&Object.defineProperty(A,t,{enumerable:!0,get:e[t]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(A){if("object"===typeof window)return window}}()}(),function(){n.o=function(A,e){return Object.prototype.hasOwnProperty.call(A,e)}}(),function(){var A={143:0};n.O.j=function(e){return 0===A[e]};var e=function(e,t){var o,i,g=t[0],w=t[1],h=t[2],C=0;if(g.some((function(e){return 0!==A[e]}))){for(o in w)n.o(w,o)&&(n.m[o]=w[o]);if(h)var a=h(n)}for(e&&e(t);C<g.length;C++)i=g[C],n.o(A,i)&&A[i]&&A[i][0](),A[i]=0;return n.O(a)},t=self["webpackChunkgrain3d"]=self["webpackChunkgrain3d"]||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))}();var t=n.O(void 0,[998],(function(){return n(4131)}));t=n.O(t)})();
//# sourceMappingURL=app.942a32e1.js.map